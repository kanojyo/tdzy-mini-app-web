webpackJsonp([8],{ZCM1:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=t("mvHQ"),r=t.n(s),i=t("Xxa5"),n=t.n(i),l=t("exGp"),o=t.n(l),c=t("Vo7i");t("0xDb");var m=t("JGDk"),u={data:function(){return{formParams:{pic:"",link:"",details:[]},uploadUrl:Object(m.a)(),fileList:[],fileList2:[],defaultMsg:"",id:"HospitalIntroduce",dialogImageUrl:[],picList:[]}},components:{Ueditor:t("dC0T").a},mounted:function(){this.index()},methods:{index:function(e){var a=this;return o()(n.a.mark(function e(){var t;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s={id:4},Object(c.a)({url:"/v1/hospital/show/"+s.id,method:"GET"});case 2:200===(t=e.sent).code&&(a.formParams=t.data,a.fileList=[{name:"",url:t.data.pic}],""!==a.formParams.details&&(a.picList=JSON.parse(a.formParams.details),a.picList.forEach(function(e){a.fileList2.push({url:e})})));case 4:case"end":return e.stop()}var s},e,a)}))()},withdrawChange:function(){var e=this;return o()(n.a.mark(function a(){var t;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log(111),""!=e.formParams.pic){a.next=4;break}return e.$message({message:"请上传医院介绍图片",type:"warning"}),a.abrupt("return");case 4:if(0!=e.formParams.details.length){a.next=7;break}return e.$message({message:"请上传图片",type:"warning"}),a.abrupt("return");case 7:return e.formParams.details=r()(e.formParams.details),e.formParams.id=4,a.next=11,s=e.formParams,Object(c.a)({url:"/v1/hospital/update/"+s.id,method:"POST",data:s});case 11:200===(t=a.sent).code&&e.$message({message:t.data.msg,type:"success"});case 13:case"end":return a.stop()}var s},a,e)}))()},handleSuccess:function(e){200===e.code&&(this.fileList=[{name:e.data.originName,url:e.data.url}],this.formParams.pic=e.data.url)},handleRemove:function(e,a){0===a.length&&(this.fileList=[],this.formParams.pic="")},beforeAvatarUpload:function(e){if(e.size/1e3/1024>4)return this.$message({message:"图片大于4M，请重新上传~",type:"warning"}),!1},handleSuccess2:function(e){200===e.code&&(this.fileList2.push({url:e.data.url}),this.picList.push(e.data.url),this.formParams.details=this.picList)},handleRemove2:function(e,a){if(0===a.length)this.fileList2=[],this.formParams.details="";else{var t=[];this.fileList2=a,this.fileList2.forEach(function(e){t.push(e.url)}),this.picList=t,this.formParams.details=t}}}},d={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"centens"},[t("el-form",{attrs:{"label-width":"150px",model:e.formParams}},[t("el-form-item",{attrs:{label:"* 医院介绍图片"}},[t("el-upload",{staticClass:"upload-demo",attrs:{action:e.uploadUrl,"on-success":e.handleSuccess,"on-remove":e.handleRemove,"file-list":e.fileList,beforeUpload:e.beforeAvatarUpload,limit:"1","list-type":"picture"}},[t("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"跳转链接"}},[t("el-input",{attrs:{clearable:"",placeholder:"请输入跳转链接"},model:{value:e.formParams.link,callback:function(a){e.$set(e.formParams,"link",a)},expression:"formParams.link"}})],1)],1),e._v(" "),t("div",{staticClass:"primary"},[t("el-button",{attrs:{type:"primary"},on:{click:e.withdrawChange}},[e._v("提 交")])],1)],1)},staticRenderFns:[]};var f=t("VU/8")(u,d,!1,function(e){t("wDg+")},"data-v-78ab42b4",null);a.default=f.exports},"wDg+":function(e,a){}});